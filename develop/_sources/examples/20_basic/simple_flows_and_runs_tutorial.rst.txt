
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/20_basic/simple_flows_and_runs_tutorial.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_20_basic_simple_flows_and_runs_tutorial.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_20_basic_simple_flows_and_runs_tutorial.py:


Flows and Runs
==============

A simple tutorial on how to train/run a model and how to upload the results.

.. GENERATED FROM PYTHON SOURCE LINES 7-14

.. code-block:: default


    # License: BSD 3-Clause

    import openml
    from sklearn import ensemble, neighbors









.. GENERATED FROM PYTHON SOURCE LINES 15-17

.. warning::
   .. include:: ../../test_server_usage_warning.txt

.. GENERATED FROM PYTHON SOURCE LINES 17-19

.. code-block:: default

    openml.config.start_using_configuration_for_example()





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/runner/work/openml-python/openml-python/openml/config.py:177: UserWarning: Switching to the test server https://test.openml.org/api/v1/xml to not upload results to the live server. Using the test server may result in reduced performance of the API!
      warnings.warn(




.. GENERATED FROM PYTHON SOURCE LINES 20-22

Train a machine learning model
==============================

.. GENERATED FROM PYTHON SOURCE LINES 22-31

.. code-block:: default


    # NOTE: We are using dataset 20 from the test server: https://test.openml.org/d/20
    dataset = openml.datasets.get_dataset(20)
    X, y, categorical_indicator, attribute_names = dataset.get_data(
        dataset_format="array", target=dataset.default_target_attribute
    )
    clf = neighbors.KNeighborsClassifier(n_neighbors=3)
    clf.fit(X, y)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    KNeighborsClassifier(n_neighbors=3)



.. GENERATED FROM PYTHON SOURCE LINES 32-34

Running a model on a task
=========================

.. GENERATED FROM PYTHON SOURCE LINES 34-40

.. code-block:: default


    task = openml.tasks.get_task(119)
    clf = ensemble.RandomForestClassifier()
    run = openml.runs.run_model_on_task(clf, task)
    print(run)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    OpenML Run
    ==========
    Uploader Name: None
    Metric.......: None
    Run ID.......: None
    Task ID......: 119
    Task Type....: None
    Task URL.....: https://test.openml.org/t/119
    Flow ID......: 16
    Flow Name....: sklearn.ensemble._forest.RandomForestClassifier
    Flow URL.....: https://test.openml.org/f/16
    Setup ID.....: None
    Setup String.: Python_3.8.12. Sklearn_1.0.1. NumPy_1.21.3. SciPy_1.7.1.
    Dataset ID...: 20
    Dataset URL..: https://test.openml.org/d/20




.. GENERATED FROM PYTHON SOURCE LINES 41-43

Publishing the run
==================

.. GENERATED FROM PYTHON SOURCE LINES 43-48

.. code-block:: default


    myrun = run.publish()
    print(f"Run was uploaded to {myrun.openml_url}")
    print(f"The flow can be found at {myrun.flow.openml_url}")





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Run was uploaded to https://test.openml.org/r/4658
    The flow can be found at https://test.openml.org/f/16




.. GENERATED FROM PYTHON SOURCE LINES 49-50

.. code-block:: default

    openml.config.stop_using_configuration_for_example()








.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  10.323 seconds)


.. _sphx_glr_download_examples_20_basic_simple_flows_and_runs_tutorial.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: simple_flows_and_runs_tutorial.py <simple_flows_and_runs_tutorial.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: simple_flows_and_runs_tutorial.ipynb <simple_flows_and_runs_tutorial.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
